
#### 二叉排序树的查找分析

从前述的两个查找例子（$key = 100$ 和 $key = 40$) 可见，在二叉排序树上查找其关键字等于给定值的结点的过程，恰是走了一条从根结点到该结点的路径的过程，和给定值比较的关键字个数等于路径长度加 1（或结点所在层次数），因此，和折半査找类似，与给定值比较的关键字个数不超过树的深度。

##### 1. 二叉排序树的深度

然而，折半查找长度为 $n$ 的表的判定树是惟一的，而含有 $n$ 个结点的二叉排序树却不惟一。图 9.10 中$(a)$和（b）的两棵二叉排序树中结点的值都相同，但前者由关键字序列（45,24,53,12,37,93) 构成，而后者由关键字序列（12,24, 37,45,53,93) 构成。$(a)$树的深度为 3, 而$(b)$ 树的深度为6。

![](https://gitee.com/mayundaze/img_bed/raw/master/20200710150540.png)

##### 2. 二叉排序树的平均査找长度

再从平均査找长度来看，假设 6 个记录的查找概率相等，为 1/6，则 $(a)$ 树的平均査找长度为

$\qquad\begin{aligned} ASL_{(a)} = \frac{1}{6}[1+2+2+3+3+3] = 14 / 6 \end{aligned}$

> 查找 $(45)$ 的查找长度为其深度(路径长度) 0 再加 1 等于 1，查找 $(24)$ 的查找长度为其深度(路径长度) 1 再加 1 等于 2，依次类推

而（b）树的平均查找长度为

$\qquad\begin{aligned} ASL_{(b)} = \frac{1}{6}[1+2+3+4+5+6] = 21 / 6 \end{aligned}$

因此，含有 n 个结点的二叉排序树的平均查找长度和树的形态有关。

当先后插入的关键字有序时，构成的二叉排序树蜕变为单支树。树的深度为 n，其平均査找长度为 $\begin{aligned}\frac{n + 1}{2}\end{aligned}$（和顺序查找相同），这是最差的情况。显然，最好的情况是二叉排序树的形态和折半查找的判定树相同，其平均查找长度和 $log_2^n$ 成正比。那么，它的平均性能如何呢？
