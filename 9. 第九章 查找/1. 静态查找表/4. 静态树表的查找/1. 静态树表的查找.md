
#### 静态树表的查找

上一小节对有序表的查找性能的讨论是在“等概率”的前提下进行的，即当有序表中各记录的查找概率相等时，按图 9.2 所示判定树描述的查找过程来进行折半查找，其性能最优。如果有序表中各记录的查找概率不等，情况叉如何呢？

##### 有序表中各记录查找概率不等的实例

先看一个具体例子。假设有序表中含 5 个记录，并且已知各记录的查找概率不等，分别为 $p_{1}=0.1, p_{2}=0.2, p_{3}=0.1, p_{4}=0.4$ 和 $p_{5}=0.2$。则按式（9-1) 的定义，对此有序表进行折半查找，査找成功时的平均查找长度为

$\qquad\begin{aligned}\sum_{i=1}^{5} P_{i} C_{i}=0.1 \times 2+0.2 \times 3+0.1 \times 1+0.4 \times 2+0.2 \times 3=2.3 \end{aligned}$

> 当查找 i = 1 的结点时，折半查找第一次，有:
> $\qquad low = 1, hight = 5, mid = (low + high)/2 = (1 + 5)/2 = 3$
> 若 $i = mid = 3$ 时的 key 查找不成功，再折半查找第二次，则 
> $\qquad high = mid - 1 = 3 - 1 = 2$
> $low$ 仍然等于 1，此时 
> $\qquad mid = (low + high)/2 = (1 + 2)/2 = 1$
> 而 $i = mid = 1$ 时查找到了 $i = 1$ 的结点，共折半查找了 2 次，所以 $P_1$ 对应的 $C_1 = 2$，即 $P_1 C_1 = 0.1 x 2$
>
> 可见，折半查找从中间切第一刀的时候 $C_1 = 1$，左右第二刀的时候 $C_2 = 2$，依次类推

但是，如果在查找时令给定值先和第 4 个记录的关键字进行比较（此时 $C_4 = 1$），比较不相等时再继续在左子序列或右子序列中进行折半查找，则査找成功时的平均查找长度为

$\qquad\begin{aligned} \sum_{i=1}^{5} P_{i} C_{i}=0.1 \times 3+0.2 \times 2+0.1 \times 3+0.4 \times 1+0.2 \times 2=1.8 \end{aligned}$

这就说明，当有序表中各记录的査找概率不等时，按图 9.2 所示判定树进行折半查找，其性能未必是最优的。那么此时应如何进行查找呢？换句话说，描述査找过程的判定树为何类二叉树时，其查找性能最佳？
