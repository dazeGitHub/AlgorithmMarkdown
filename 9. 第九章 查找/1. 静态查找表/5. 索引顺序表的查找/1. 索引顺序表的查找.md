
#### 索引顺序表的查找

若以索引顺序表表示静态査找表，则 Search 函数可用分块査找来实现。

**分块查找** 又称 **索引顺序查找**，这是顺序查找的一种改进方法。在此查找法中，除表本身以外，尚需建立一个“索引表”。

例如，图 9.6 所示为一个表及其索引表，表中含有 18 个记录，可分成 3 个子表（R1, R2, …, R6)、（R1, R8, …, R12)、（R13, R14, …, R1a）

![](https://gitee.com/mayundaze/img_bed/raw/master/20200709171003.png)

对每个子表（或称块）建立一个索引项，其中包括两项内容：关键字项（其值为该子表内的最大关键字）和指针项（指示该子表的第一个记录在表中位置）。索引表按关键字有序，则表或者有序或者分块有序。

> 所谓“分块有序”指的是第二个子表中所有记录的关键字均大于第一个子表中的最大关键字，第三个子表中的所有关键字均大于第二个子表中的最大关键字，...，依次类推。

##### 分块查找的步骤

因此，分块查找过程需分两步进行。

###### 1. 先确定待查记录所在的块（子表）

假设给定值 $key = 38$, 则先将 $key$ 依次和索引表中各最大关键字进行比较，因为 $22 < key < 48$，则关键字为 38 的记录若存在，必定在第二个子表中（因为第一个表最大值是 22），由于同一索引项中的指针指示第二个子表中的第一个记录是表中第 7 个记录，则自第 7 个记录起进行顺序查找，直到 $ST.elem[10].key = key$ 为止。

###### 2. 然后在块中顺序査找

假如此子表中没有关键字等于 $key$ 的记录（例如：key = 29 时自第 7 个记录起至第 12 个记录的关键字和 key 比较都不等），则查找不成功。

由于由索引项组成的索引表按关键字有序，则确定块的查找可以用顺序查找，亦可用折半査找，而块中记录是任意排列的，则在块中只能是顺序查找。由此，分块査找的算法即为这两种查找算法的简单合成。
