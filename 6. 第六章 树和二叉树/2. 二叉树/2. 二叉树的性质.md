
#### 1. 二叉树的性质

二叉树具有下列重要特性。

##### 性质 1 

在二叉树的第 i 层上至多有 $2^{i-1}$ 个结点 $(i \geq 1)$ 

###### 证明

利用归纳法容易证得此性质。

$i=1$ 时，只有一个根结点。显然，$2^{i-1}=2^{0}=1$ 是对的

现在假定对所有的 j, $1 \leq j < i$，命题成立，即第 j 层上至多有 $2^{j - 1}$ 个结点。那么，可以证明 $j = i$ 时命题也成立。

由归纳假设：第 $i - 1$ 层上至多有 $2^{(i - 1) - 1} = 2^{i - 2}$ 个结点。由于二叉树的每个结点的度至多为 2，故在第 $i$ 层上的最大结点数为第 $i - 1$ 层上的最大结点数的 2 倍，即 $2 \times 2^{i - 2} = 2^{i - 1}$

> 第 $i \; (i = 1、2、3、4)$ 层的最大结点数依次为: $1、2、4、8$

##### 性质 2

深度为 k 的二叉树至多有 $2^k - 1$ 个结点 $(k \geq 1)$。由性质 1 可见，深度为 $k$ 的二叉树的最大结点数为

$\qquad\sum_{i=1}^{k}(\text { 第 } i \text { 层上的最大结点数 }) = \sum_{i=1}^{k} 2^{i - 1} = 2^{k}-1$

>
> 等比数列求和公式: $\begin{aligned}S_{n} = \frac{a_{1}\left(1 - q^{n}\right)}{1 - q}(q \neq 1)\end{aligned}$
> 所以 $\begin{aligned}\sum_{i = 1}^{k} 2^{i - 1} = \frac{1 \cdot \left(1 - 2^{k}\right)}{1 - 2} = \frac{1 - 2^k}{-1} = 2^{k} - 1 \end{aligned}$

##### 性质 3 

对任何一棵二叉树 T，如果其终端结点数为 $n_0$ (即度为 0 的结点数)，度为 2 的结点数为 $n_2$, 则 $n_0 = n_2 + 1$

设 $n_1$ 为二叉树 T 中度为 1 的结点数。因为二叉树中所有结点的度均小于或等于 2, 所以其结点总数为

$\qquad N = n_0 + n_1 + n_2 \qquad (6-1)$

再看二叉树中的分支数。除了根结点外，其余结点都有一个分支进入，设 B 为分支总数，则总的度 $n = B + 1$。由于这些分支是由度为 1 或 2 的结点射出的，所以又有 $B = n_1 + 2n_2$。于是得

$\qquad N = n_1 + 2n_2 + 1 \qquad (6-2)$

由式（6-1) 和（6-2) 得

$\qquad n_{0} = n_{2} + 1$

#### 2. 满二叉树

完全二叉树 和 满二叉树 是两种特殊形态的二叉树。

一棵深度为 $k$ 且有 $2^k - 1$ 个结点的二叉树称为 **满二叉树**。如图 6.4 (a）所示是一棵深度为 4 的满二叉树，这种树的特点是每一层上的结点数都是最大结点数。

![](https://gitee.com/mayundaze/img_bed/raw/master/20200618180106.png)

可以对满二叉树的结点进行连续编号，约定编号从根结点起，自上而下，自左至右。由此可引出完全二叉树的定义。

#### 3. 完全二叉树

深度为 k 的，有 n 个结点的二叉树，当且仅当其每一个结点都与深度为 k 的满二叉树中编号从 1 至 n 的结点一一対应时，称之为 **完全二叉树**。如图 6.4 (b）所示为一棵深度为 4 的完全二叉树。

显然，这种树的特点是：

$\quad(1)$ 叶子结点只可能在层次最大的两层上出现（例如图 6.4 (b) 的第三层和第四层）；
$\quad(2)$ 对任一结点，若其右分支下的子孙的最大层次为 l, 则其左分支下的子孙的最大层次必为 l 或 l + 1。如图 6.4 中（c）和（d）不是完全二叉树。

完全二叉树将在很多场合下出现，下面介绍完全二叉树的两个重要特性。

##### 性质 4 

具有 n 个结点的完全二叉树的深度为 $\left\lfloor log_2 n\right\rfloor + 1$

> $\left\lfloor x \right\rfloor + 1$ 表示不大于 x 的最大整数，反之，$\left\lceil x\right\rceil$ 表示不小于 x 的最小整数

证明：假设深度为 k，则根据性质 2 和完全二叉树的定义有

$\qquad 2^{k-1} - 1 < n \leqslant 2^{k} - 1 \quad$ 或 $\quad 2^{k-1} \leqslant n < 2^{k}$

> $\quad n \leq 2^k - 1$ 可得 $n$ 肯定小于 $2^k$，即 $n < 2^k$
>
> $\quad 2^{k-1} - 1 < n$ 可得 $2^{k-1} < n + 1$，而 $2^{k-1}$ 必为整数，所以 $2^{k-1} \leq n$

于是 $k - 1 \leq log_2 n < k$，因为 k 是整数，所以 $k = \left\lfloor log_2 n\right\rfloor + 1$

> $\quad 2^{k-1} \leqslant n < 2^{k}$ 三边同时加上 log_2，有 $log_2 2^{k-1} \leqslant log_2 n < log_2 2^{k}$，即 $k - 1 \leq log_2 n < k$
>
> $\quad$ 因为 $k - 1 \leq log_2 n$，即 $k - 1$ 不大于 $log_2 n$，则 $k - 1$ 为不大于 $log_2 n$ 的最大整数，即 $k - 1 = \left\lfloor log_2 n\right\rfloor$，从而 $k = \left\lfloor log_2 n\right\rfloor + 1$

##### 性质 5

如果对一棵有 n 个结点的完全二叉树（其深度为 $\left\lfloor log_2 n\right\rfloor + 1$) 的结点按层序编号（从第 1 层到第 $\left\lfloor log_2 n\right\rfloor + 1$ 层，每层从左到右），则对任一结点 $i(1 \leq i \leq n)$，有:

(1) 如果 i = 1, 则结点 i 是二叉树的根，无双亲；如果 i > 1, 则其双亲 PARENT (i) 是结点 $[i/2]$。
(2) 如果 $2i > n$，则结点 i 无左孩子（结点 i 为叶子结点）；否则其左孩子 LCHILD(i) 是结点 2i。
(3) 如果 $2i + 1 > n$，则结点 i 无右孩子；否则其右孩子 RCHILD(i) 是结点 2i + 1。

###### 证明

我们只要先证明（2) 和（3），便可以从（2) 和（3) 导出（1)。

对于 i = 1, 由完全二叉树的定义，其左孩子是结点 2。若 2 > n，即不存在结点 2, 此时结点 i 无左孩子。结点的右孩子也只能是结点 3, 若结点 3 不存在，即 3 > n，此时结点 i 无右孩子。

对于 i > 1 可分两种情况讨论：

(1) 设第 $j(1 \leq j \leq \left\lfloor log_2 n\right\rfloor)$ 层的第一个结点的编号为 i（由二叉树的定义和性质 2 可知 $i = 2^j - 1$），则其左孩子必为第 $j + 1$ 层的第一个结点，其编号为 $2 = 2 (2-) = 2i$，若 2i> n，则无左孩子；其右孩子必为第 j+1 层的第二个结点，其编号为 2i+1, 若 2i+1> m，则无右孩子；
(2) 假设第 $j(1 \leq j \leq \left\lfloor log_2 n\right\rfloor)$ 层上某个结点的编号为 $i (2^{j - 1} \leq i < 2^j ー 1)$ ，且 $2i + 1 < n$，则其左孩子为 $2i$, 右孩子为 $2i + 1$, 又编号为 $i + 1$ 的结点是编号为 i 的结点的右兄弟或者堂兄弟，若它有左孩子，则编号必为 $2i + 1 + 1 = 2i + 2 = 2( i+ 1)$，若它有右孩子，则其编号必为 $2i + 2 + 1 = 2i + 3 = 2(i + 1) + 1$

![](https://gitee.com/mayundaze/img_bed/raw/master/20200622144150.png)

如图所示为完全二又树上结点及其左、右孩子结点之间的关系。