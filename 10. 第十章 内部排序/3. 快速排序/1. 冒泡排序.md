
#### 冒泡排序

这一节讨论一类藉助“交换”进行排序的方法，其中最简单的一种就是人们所熟知的 **起泡排序（Bubble Sort）**。

##### 1. 排序过程

起泡排序的过程很简单。首先将第一个记录的关键字和第二个记录的关键字进行比较，若为逆序（即 $L.r[1].key > L.r[2].key$ ），则将两个记录交换之，然后比较第二个记录和第三个记录的关键字。依次类推，直至第 n - 1 个记录和第 n 个记录的关键字进行过比较为止。

上述过程称做第一趟起泡排序，其结果使得关键字最大的记录被安置到最后个记录的位置上。然后进行第二趟起泡排序，对前 $n - 1$ 个记录进行同样操作，其结果是使关键字次大的记录被安置到第 $n - 1$ 个记录的位置上。

一般地，第 $i$ 趟起泡排序是从 $L.r[1]$ 到 $L.r[n - i + 1]$ 依次比较相邻两个记录的关键字，并在“逆序”时交换相邻记录，其结果是这 $n - i + 1$ 个记录中关键字最大的记录被交换到第 $n - i + 1$ 的位置上。整个排序过程需进行 $k (1 \leq k < n$）趟起泡排序，显然，判别起泡排序结束的条件应该是“在一趟排序过程中没有进行过交换记录的操作”。

##### 2. 实例

图 10.6 展示了起泡排序的一个实例。从图中可见，在起泡排序的过程中，关键字较小的记录好比水中气泡逐趟向上浮，而关键字较大的记录好比石块往下沉，每一趟有一块“最大”的石头沉到水底（请参见“1.4.3 节算法效率的度量”中起泡排序的算法）。

![](https://gitee.com/mayundaze/img_bed/raw/master/20200803111317.png)

##### 3. 复杂度分析

分析起泡排序的效率，容易看出，若初始序列为“正序”序列，则只需进行一趟排序，在排序过程中进行 $n - 1$ 次关键字间的比较，且不移动记录；反之，若初始序列为“逆序”序列,则需进行 $n - 1$ 趟排序,需进行 $\begin{aligned}\sum_{i=n}^{2}(i-1) = n(n - 1) / 2 \end{aligned}$ 次比较，并作等数量级的记录移动。因此，总的时间复杂度为 $O(n^2)$。

> $\begin{aligned}\sum_{i=n}^{2}(i- 1)\end{aligned}$ 共有 $n - 1$ 项，第一项是 $n - 1$，第 $n - 1$ 项是 $2 - 1 = 1$，根据求和公式得:
> $\frac{(n - 1)[(n - 1) + (2 - 1))}{2} = \frac{(n - 1)(n)}{2} = \frac{n(n - 1)}{2}$
> $\;$
