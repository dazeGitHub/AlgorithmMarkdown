
##### 存储紧缩的两种做法

通常，有两种做法：

1. 一种是一旦有用户释放存储块即进行回收紧缩，例如，图 8.12 (a）的堆，在 c 串释放存储块时即回收紧缩成为图 8.12  (c）的堆，同时修改串的存储映像成图 8.12 (d）的状态；
2. 另一种是在程序执行过程中不回收用户随时释放的存储块，直到可利用空间不够分配或堆指针指向最高地址时才进行存储紧缩。此时紧缩的目的是将堆中所有的空闲块连成一片，即将所有的占用块都集中到可利用空间的低地址区，而剩余的高地址区成为一整个地址连续的空闲块，如图 8.13 所示，其中（a）为紧缩前的状态，(b）为紧缩后的状态。

![](https://gitee.com/mayundaze/img_bed/raw/master/20200708170742.png)
