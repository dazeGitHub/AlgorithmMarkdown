
#### 伙伴系统

伙伴系统（buddy system）是操作系统中用到的另一种动态存储管理方法。它和边界标识法类似，在用户提出申请时，分配一块大小“恰当”的内存区给用户；反之，在用户释放内存区时即回收。

所不同的是：在伙伴系统中，无论是占用块或空闲块，其大小均为 2 的 k 次幂（k 为某个正整数）。

> 例如；当用户申请 n 个字的内存区时，分配的占用块大小为 2 个字（$2^{k-1}<n \leq 2^{k}$)。由此，在可利用空间表中的空闲块大小也只能是 2 的 k 次幂。若总的可利用内存容量为 $2^m$ 个字，则空闲块的大小只可能为 $2^{0}, 2^{1}, \cdots, 2^{m}$。

下面我们仍和上节一样，分 3 个问题来介绍这个系统。

> 1. 在 16 位的系统中（比如 8086 微机）    1字（word）= 2字节（byte）= 16（bit）
> 2. 在 32 位的系统中（比如 win32 ）      1字（word）= 4字节（byte）= 32（bit）
> 3. 在 64 位的系统中（比如 win64 ）      1字（word）= 8字节（byte）= 64（bit）