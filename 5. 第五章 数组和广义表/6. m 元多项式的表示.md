
#### m 元多项式的表示

在一般情况下使用的广义表多数既非是递归表，也不为其他表所共享。对广义表可以这样来理解，广义表中的一个数据元素可以是另一个广义表，一个 $m$ 元多项式的表示就是广义表的这种应用的典型实例。

在第 2 章中，我们曾作为线性表的应用实例讨论了一元多项式，个一元多项式可以用一个长度为 $m$ 且每个数据元素有两个数据项（系数项和指数项）的线性表来表示。

这里，将讨论如何表示 $m$ 元多项式。一个 $m$ 元多项式的每一项，最多有 $m$ 个变元。如果用线性表来表示，则每个数据元素需要 $m + 1$ 个数据项，以存储一个系数值和 $m$ 个指数值。

这将产生两个问题：

1. 一是无论多项式中各项的变元数是多是少，若都按 $m$ 个变元分配存储空间，则将造成浪费；反之，若按各项实际的变元数分配存储空间，就会造成结点的大小不匀，给操作带来不便。
2. 二是对 $m$ 值不同的多项式，线性表中的结点大小也不同，这同样会引起存储管理的不便。

因此，由于 $m$ 元多项式中每一项的变化数目的不均匀性和变元信息的重要性，故不适于用线性表表示。例如三元多项式

$\qquad P(x, y, z) = x^{10} y^{3} z^{2}+2 x^{6} y^{3} z^{2}+3 x^{5} y^{2} z^{2}+x^{4} y^{4} z+6 x^{3} y^{4} z+2 y z+15$

其中各项的变元数目不尽相同，而 2、2 等因子又多次出现，如若改写为

$\qquad P(x, y, z) = \left(\left(x^{10}+2 x^{6}\right) y^{3}+3 x^{5} y^{2}\right) z^{2}+\left(\left(x^{4}+6 x^{3}\right) y^{4}+2 y\right) z+15$

情况就不同了。现在，我们再来看这个多项式 $P$，它是变元 $x$ 的多项式，即 $A z^{2} + B z + 15 z^{0}$，只是其中 $A$ 和 $B$ 本身又是一个 $(x, y)$ 的二元多项式，15 是 $x$ 的零次项的系数。进一步考察 $A(x,y)$，又可把它看成是 $y$ 的多项式。$C y^{3}+D y^{2}$, 而其中 $C$ 和 $D$ 为 $X$ 的一元多项式。循此以往，每个多项式都可看作是由一个变量加上若干个系数指数偶对组成。

任何一个 $m$ 元多项式都可如此做：先分解出一个主变元，随后再分解出第二个变元，等等。由此，一个 $m$ 元的多项式首先是它的主变元的多项式，而其系数又是第二变元的多项式，由此可用广义表来表示 $m$ 元多项式。例如上述三元多项式可用式 $(5 - 7)$ 的广义表表示，广义表的深度即为变元个数。

$\qquad P = z((A, 2),(B, 1),(15,0)) \qquad\qquad\qquad\qquad (5-7)$

> 我们在广义表的括弧之前加一个变元，以示各层的变元。

其中

$\qquad A = y((C, 3),(D, 2))$
$\qquad C = x((1,10),(2,6))$
$\qquad D = x((3,5))$
$\qquad B = y((E, 4),(F, 1))$
$\qquad E = x((1,4),(6,3))$
$\qquad F = x((2,0))$

可类似于广义表的第二种存储结构来定义表示 $m$ 元多项式的广义表的存储结构。链表的结点结构为：

![](https://gitee.com/mayundaze/img_bed/raw/master/20200903151459.png)

其中 $exp$ 为指数域，$coef$ 为系数域，$hp$ 指向其系数子表，$tp$ 指向同一层的下一结点。其形式定义说明如下：

```cpp
typedef struct MPNode{

    ElemTag     tag;            //区分原子结点和表结点 exp; 
    int         exp;            //指数域

    union{
        float   coef;           //系数域
        struct  MPNode * hp;    //表结点的表头指针
    };

    struct MPNode * tp;         //相当于线性链表的 next，指向下一个元素结点

}* MPList;                      //m 元多项式广义表类型
```

式 $(5-7)$ 的广义表的存储结构如图 $5.12$ 所示，在每一层上增设一个表头结点并利用 $exp$ 指示该层的变元，可用一维数组存储多项式中所有变元，故 $exp$ 域存储的是该变元在维数组中的下标。头指针 $p$ 所指表结点中 $exp$ 的值 3 为多项式中变元的个数。可见，这种存储结构可表示任何元的多项式。

![](https://gitee.com/mayundaze/img_bed/raw/master/20200903152121.png)
